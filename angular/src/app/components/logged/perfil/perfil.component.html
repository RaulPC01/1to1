<div class="loading-spinner" *ngIf="loading">
    <!-- AquÃ­ puedes usar cualquier biblioteca de ruedita de carga o implementar tu propio spinner -->
    <div class="spinner"></div>
  </div>
  
<div *ngIf="!loading">

    <div *ngIf="user" class="fotoPerfil">
        <img [src]="user.image" alt="{{ 'profile.profile_picture' | translate }}">
    </div>
    
    <div class="profile-card">
        <header class="card-header">
            <h2>{{ 'profile.details_title' | translate }}</h2>
            <button class="edit-button" (click)="toggleEditForm()">{{ 'profile.edit_button' | translate }}</button>
        </header>
        
        <div *ngIf="!showEditForm">
            <div class="card-content">
                <div class="field">
                    <label>{{ 'profile.full_name_label' | translate }}</label>
                    <div class="value">{{ user.name }}</div>
                </div>
                <div class="field">
                    <label>{{ 'profile.email_label' | translate }}</label>
                    <div class="value">{{ user.email }}</div>
                </div>
                <div class="field">
                    <label>{{ 'profile.contact_number_label' | translate }}</label>
                    <div class="value verified">{{ user.phone }} <span>{{ 'profile.verified' | translate }}</span></div>
                </div>
            </div>
        </div>
        
        <form *ngIf="showEditForm" class="edit-form" [formGroup]="editForm">
            <div class="form-group">
                <label>{{ 'profile.full_name_label' | translate }}</label>
                <input type="text" value="user.name" name="fullName" formControlName="name" [(ngModel)]="user.name">
            </div>
            <div class="form-group">
                <label>{{ 'profile.email_label' | translate }}</label>
                <input type="email" name="email"  formControlName="email" required [(ngModel)]="user.email">
            </div>
            <div class="form-group">
                <label>{{ 'profile.contact_number_label' | translate }}</label>
                <input type="text" name="contactNumber" formControlName="number" required  [(ngModel)]="user.phone">
            </div>
           
            
            <button type="submit" class="save-button" (click)="actualizarPerfilUsuario()">{{ 'profile.save_changes_button' | translate }}</button>
        </form>
    </div>
    
</div>
